function ModalForm(e){$("#form-modal").addClass("loading"),$("#form-modal .modal-loading").show(),$("#form-modal .modal-header").hide(),$("#form-modal .modal-body").html("").load(e,function(){$("#form-modal .modal-loading").hide(),$("#form-modal .modal-header .title").html($("#form-modal .modal-body span.title").html()),$("#form-modal .modal-header").show(),x,$("#form-modal").removeClass("loading")}),$("#form-modal").modal("show")}var $sessionModal=$("#session-modal"),$sessionModalIFrame=$sessionModal.find("iframe"),LastRequestTime=moment();"undefined"!=typeof SessionLifetime&&($sessionModal.modal({backdrop:"static",keyboard:!1,show:!1}),setInterval(function(){var e=moment(LastRequestTime).add(SessionLifetime,"minutes").isBefore(moment());e&&!$sessionModal.hasClass("in")&&$.get(LogoutUrl).success(function(){$sessionModalIFrame.attr("src",LoginUrl).one("load",function(){$sessionModal.modal("show")})})},5e3),parent.postMessage("authenticated","*"),window.addEventListener("message",function(e){var t=e.message?"message":"data",a=e[t];"authenticated"==a&&(LastRequestTime=moment(),$sessionModal.modal("hide"))}),function(){function e(){return LastRequestTime=moment(),new t}var t=window.XMLHttpRequest;window.XMLHttpRequest=e}()),+function(e){"use strict";function t(){var t=e("#drawer-wrapper .header"),a=e("#drawer-wrapper .menu"),o=e(window).height();a.css({"max-height":o-t.outerHeight()})}e(document).on("click",'input[type="checkbox"][role="toggle"]',function(t){var a=e(t.currentTarget);"undefined"!=typeof a.data("target")&&(a.prop("checked")?e(a.data("target")).removeClass("hide"):e(a.data("target")).addClass("hide"))}),e(document).on("click",'input[type="checkbox"][role="enable"]',function(t){var a=e(t.currentTarget);"undefined"!=typeof a.data("target")&&(a.prop("checked")?e(a.data("target")).removeClass("disabled").find("input, select, textarea").removeAttr("disabled"):e(a.data("target")).addClass("disabled").find("input, select, textarea").attr("disabled",!0))}),e("form").on("input change",function(){e("#save, #save-keep").removeAttr("disabled")}),e(".save-button,.enable-save").on("click",function(){e("#save, #save-keep").removeAttr("disabled")}),e(".relational").on("updated",function(){e("#save, #save-keep").removeAttr("disabled")}),e(function(){if("undefined"!=typeof CKEDITOR){var t=Object.keys(CKEDITOR.instances);t.forEach(function(t){CKEDITOR.instances[t].on("change",function(t){e("#save, #save-keep").removeAttr("disabled")})})}}),e(function(){e('[data-toggle="tooltip"]').tooltip({delay:{show:1e3,hide:200}})}),e("#drawer-wrapper .menu").css({overflow:"auto"}),e(window).on("resize",t),e(function(){t(),e("#file").fileuploader()}),e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}})}(jQuery),+function(e){"use strict";e.fn.formErrorParser=function(a,o){a=e.extend(!0,{inputWrapper:'<div class="input-group"></div>',inputWrapperErrorClass:"has-error",inputAddon:'<span class="input-group-addon error-addon"><i class="zmdi zmdi-alert-circle" data-toggle="tooltip" data-placement="auto"></i></span>'},a),e(this).data("error-parser",new t(this,a,o))};var t=function(t,a,o){this.$form=e(t),this.options=a,"undefined"!=typeof o&&this.parseErrors(o)};t.prototype.parseErrors=function(t){e.each(t,this.appendInputError.bind(this))},t.prototype.appendInputError=function(t,a){t=t.split(".");var o=t.shift();e.each(t,function(e,t){o=o+"["+t+"]"});var n=this.$form.find('[name="'+o+'"]');n.hasClass("fake-typeahead")&&(n=n.siblings(".typeahead")),0==n.parent(".input-group").length&&n.wrap(this.options.inputWrapper);var r=e(this.options.inputAddon).insertAfter(n);r.find("i").attr("title",a).tooltip(),n.parent(".input-group").addClass(this.options.inputWrapperErrorClass);var i=n.closest(".tab-pane");if(i.length){var s=e('[href="#'+i.attr("id")+'"]');s.closest("li").addClass("has-error"),"undefined"==typeof this.tabFocused&&(s.click(),this.tabFocused=!0)}n.closest(".panel-collapse.collapse:not(.in)").addClass("in")}}(jQuery),$(".mask-percent").mask("0.000.000.000,00",{reverse:!0}),$(".mask-float").mask("0.000.000.000,00",{reverse:!0}),$(".mask-integer").mask("00.000.000.000",{reverse:!0}),$(".mask-phone").mask("+00 00000000000000"),+function(e){"use strict";e("#messages-wrapper").on("click",".message",function(t){var a=e(t.target);a.closest(".actions").length||(window.location=a.closest(".message").attr("data-href"),t.preventDefault())})}(jQuery),+function(e){"use strict";e(".alert:not(.permanent)").fadeTo(6e3,500).slideUp(500,function(){e(".alert").alert("close")}),e("#filter-toogler").on("click",function(){e("#collection-wrapper .filters").toggleClass("open"),e("#collection-wrapper .items").toggleClass("col-md-10 col-md-12")}),e("#drawer-wrapper").on("click",function(t){t.target===this&&(e("#drawer-wrapper").toggle(),e(".drawer").toggleClass("open"))}),e('[role="menu-toggle"]').on("click",function(){e("#drawer-wrapper").toggle(),setTimeout(function(){e(".drawer").toggleClass("open")},100)}),e(document).keyup(function(t){27==t.keyCode&&e(".drawer").hasClass("open")&&(e("#drawer-wrapper").toggle(),setTimeout(function(){e(".drawer").toggleClass("open")},100))}),e('[role="user-toggle"]').on("click",function(){e("#header .user-dropdown").toggleClass("open")}),e(document).on("click",'[role="submit"]',function(t){var a=e(t.currentTarget),o=e(a.data("form"));a.data("keep")&&o.append('<input type="hidden" name="keepOnPage" value="true">'),o.submit()}),e("#collection-wrapper .items").on("click","table th input",function(t){var a=e(t.currentTarget);a.closest("table").find('input[type="checkbox"]').prop("checked",a.prop("checked")),a.closest("table").trigger("selection-change")}),e("#collection-wrapper .items").on("click","table td input",function(t){var a=e(t.currentTarget),o=a.closest("table").find('th input[type="checkbox"]');if(a.prop("checked")){var n=!0;a.closest("tbody").find('td input[type="checkbox"]').each(function(){e(this).prop("checked")===!1&&(n=!1)}),o.prop("checked",n)}else o.prop("checked",!1);a.closest("table").trigger("selection-change"),t.stopPropagation()}),e("#collection-wrapper").on("selection-change","table",function(t){var a=e(t.currentTarget);a.find("tbody").find('td input[type="checkbox"]:checked').length?e("#bulk-actions-toggle").removeClass("disabled"):e("#bulk-actions-toggle").addClass("disabled")}).find("table").trigger("selection-change"),e("#collection-wrapper").on("click","tbody tr",function(t){if(!e(t.target).is('.row-check, [type="checkbox"], .actions, .dropdown, .dropdown-toggle, .zmdi-more-vert')){var a=e(t.currentTarget).find('[role="edit"]');if(a.length){var o=e(t.currentTarget).find('[role="edit"]').attr("href");t.shiftKey?window.open(o,"_blank","toolbar=yes, location=yes, status=yes, menubar=yes, scrollbars=yes"):t.ctrlKey?window.open(o,"_blank"):window.location=o}}}),e("#collection-wrapper table.index-table").on("selection-change",function(t){var a=e("#bulk-destroy, form.bulk-action");a.each(function(t,a){var o=e(a),n=o.data("field")||"remove_ids";o.find('input[name="'+n+'[]"]').remove(),e("#collection-wrapper table.index-table tbody").find('input[type="checkbox"]:checked').each(function(){o.append('<input type="hidden" name="'+n+'[]" value="'+e(this).closest("tr").data("id")+'">')})})}),e("#do-bulk-destroy").on("click",function(t){var a=e("#bulk-destroy");a.find('input[name="remove_ids[]"]').length&&a.submit(),t.preventDefault()})}(jQuery)+function(e){"use strict";var t=e("#settings-groups");t.length&&(t.on("click",".editable a, li.editable, tr.editable, .delete-only a",function(t){var a=e(t.currentTarget);a.hasClass("edit")||a.hasClass("editable")?window.location.href=a.closest(".editable").data("edit"):a.hasClass("delete")&&(window.location.href=a.closest(".list-group-item").data("delete")),t.stopPropagation()}),t.on("click",".settings-item a.create",function(t){var a=e(t.currentTarget);"#"==a.attr("href")&&(window.location.href=a.closest(".settings-item").data("create"))}),t.on("click",".settings-item a.show",function(t){window.location.href=e(t.currentTarget).closest(".settings-item").data("show")}),e("ul.nav-tabs").on("click","a",function(){var t=e(this).data("group"),a=window.location.href.split("?")[0]+"?active_tab="+t;history.pushState({active_tab:t},"",a)}),e(window).on("popstate",function(t){var a=t.originalEvent.state;null!==a&&"undefined"!=typeof a.active_tab&&e('ul.nav-tabs a[data-group="'+a.active_tab+'"]').tab("show")}))}(jQuery);var alertError=function(e){swal({title:"Error!",text:e,type:"error",allowOutsideClick:!0})};